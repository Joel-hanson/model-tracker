{% extends '_base.html' %}
{% load static %}
{% load get_item %}

{% block content %}
<div class= "row">
    <div class="col-sm">
        <table id="table_db" class="table table-striped table-hover table-bordered compact" style="width: 100%">
            <thead>
                <tr>
                    {% for key in keys %}
                        <th scope="col">{{ key | upper }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody >
                {% for result in results %}
                {% comment %} print result {% endcomment %}
                <tr>
                    {% for key in keys %}
                        <td>{{ result|get_item:key }}</td>
                    {% endfor %}
                </tr>
            </tbody>
                {% endfor %}
        </table>
    </div>
</div>
{% endblock content %}
 
{% block js %} <-- page specific scripts
 
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
 
<script>
    $(document).ready(function () {
    $('#table_db').DataTable( {
        "paging": true,
        "searching": true,
        "autoWidth": false,
        "ordering": true,
        "responsive": true,
        "columnDefs": [
            {"width": "50px", "targets": 0},
            {"width": "250px", "targets": 1},
        ],
    }
    );
} );
</script>
{% endblock js %}